<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.lhiot.mall.wholesale.invoice.mapper.InvoiceMapper">

    <!-- 新增发票抬头 -->
    <insert id="insertInvoiceTitle" parameterType="com.lhiot.mall.wholesale.invoice.domain.InvoiceTitle">
        insert into t_whs_invoice_title(
        <trim suffixOverrides=",">
            <if test="id != null and id != ''">id,</if>
            <if test="userId != null and userId != ''">user_id,</if>
            <if test="taxpayerNumber != null and taxpayerNumber != ''">taxpayer_number,</if>
            <if test="companyName != null and addressArea != ''">company_name,</if>
            <if test="addressDetail != null and addressDetail != ''">address_detail,</if>
            <if test="addressArea != null">address_area,</if>
            <if test="contactName != null and contactName != ''">contact_name,</if>
            <if test="contactPhone != null and contactPhone != ''">contact_phone,</if>
            <if test="bankName != null and bankName != ''">bank_name,</if>
            <if test="bankCardCode != null and bankCardCode != ''">bank_card_code,</if>
        </trim>
        )
        values(
        <trim suffixOverrides=",">
            <if test="id != null and id != ''">#{id},</if>
            <if test="userId != null and userId != ''">#{userId},</if>
            <if test="taxpayerNumber != null and taxpayerNumber != ''">#{taxpayerNumber},</if>
            <if test="companyName != null and companyName != ''">#{companyName},</if>
            <if test="addressDetail != null and addressDetail != ''">#{addressDetail},</if>
            <if test="addressArea != null and addressArea != ''">#{addressArea},</if>
            <if test="contactName != null and contactName != ''">#{contactName},</if>
            <if test="contactPhone != null and contactPhone != ''">#{contactPhone},</if>
            <if test="bankName != null and bankName != ''">#{bankName},</if>
            <if test="bankCardCode != null and bankCardCode != ''">#{bankCardCode},</if>
        </trim>
        )
    </insert>

    <!-- 查询发票抬头 -->
    <select id="selectInvoiceTitle"  parameterType="long" resultType="com.lhiot.mall.wholesale.invoice.domain.InvoiceTitle">
       select * from t_whs_invoice_title where user_id=#{0}
    </select>

    <update id="updateInvoiceTitle" parameterType="com.lhiot.mall.wholesale.invoice.domain.InvoiceTitle">
        UPDATE t_whs_invoice_title
        <trim prefix="set" prefixOverrides=",">
            <if test="taxpayerNumber !=null and taxpayerNumber !=''">
                ,taxpayer_number=#{taxpayerNumber}
            </if>
            <if test="companyName !=null and companyName !=''">
                ,company_name=#{companyName}
            </if>
            <if test="addressDetail !=null and addressDetail !=''">
                ,address_detail=#{addressDetail}
            </if>
            <if test="contactName !=null and contactName !=''">
                ,contact_name=#{contactName}
            </if>
            <if test="addressArea !=null and addressArea !=''">
                ,address_area=#{addressArea}
            </if>
            <if test="contactName !=null and contactName !=''">
                ,contact_name=#{contactName}
            </if>
            <if test="contactPhone !=null and contactPhone !=''">
                ,contact_phone=#{contactPhone}
            </if>
            <if test="bankName !=null and bankName !=''">
                ,bank_name=#{bankName}
            </if>
            <if test="bankCardCode !=null and bankCardCode !=''">
                ,bank_card_code=#{bankCardCode}
            </if>
        </trim>
        where id=#{id}
    </update>

</mapper>